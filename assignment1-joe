import numpy as np

def dropout(x, p, axis=0):
    x = np.array(x)
    if axis == 1: x = x.T
    m, n = x.shape
    for col in range(n):
        rows = np.random.choice(m, size=int(p*m), replace=False)
        x[rows, col] = 0
    if axis == 1: x = x.T
    return x
dropout(np.ones((10,10)), p=0.2, axis=0)
dropout(np.ones((10,10)), p=0.2, axis=1)
